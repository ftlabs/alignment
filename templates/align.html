{{define "alignPage"}}
	<!DOCTYPE html>
	<html>
    	{{template "head"}}
		<body>
	    	{{template "header"}}

			<div class="o-techdocs-hero">
				<h2 class="o-techdocs-hero__title">
					A (very) experimental look at recent articles in <a href="http://www.ft.com">FT.com</a>,
					<br>exploring the visual impact of aligning the search results in novel ways.
				</h2>
			</div>

			<div class="o-techdocs-container">
				<div class="o-techdocs-layout">
					<!-- Main content (outer div for layout, inner for formatting) -->
					<div class="o-techdocs-main">
						<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.2.0/css/font-awesome.css"></link>
						<div class="o-techdocs-content">
							<p>
								The code for all this sits at <a href="https://github.com/railsagainstignorance/alignment">github.com/railsagainstignorance/alignment</a>.
								<br>It makes use of the enormous and enormously useful phoneme dataset, <a href="http://www.speech.cs.cmu.edu/cgi-bin/cmudict">CMU Pronouncing Dictionary</a>.
							</p>

							</p>

							<h2>align on matching phrase</h2>
								<p>
									The search text used to identify the articles (via keyword search) is used to align the results.
								</p>
								<form action="/align" method="GET">
									<table>
										<tr>
											<td><input type="text" name="text" value="has its own"></td>
											<td>source:</td>
											<td><input type="radio" name="source" value="any" checked> any 
												<br><input type="radio" name="source" value="title-only"> title-only</td>
											<td><input type="submit" value="search and align on matching phrase"></td>
										</tr>
									</table>
									 
								</form>

							<h2>sort by rhyme</h2>
								<p>
									The search text used to identify the articles (via keyword search), and the results titles are sorted by rhyme.
								</p>
								<form action="/rhyme" method="GET">
									<table>
										<tr>
											<td><input type="text" name="text" value="has its own"></td>
											<td><input type="submit" value="search and sort titles by rhyme"></td>
										</tr>
									</table>
									 
								</form>

							<h2>align on matching meter</h2>
								<p>
									In addition to the search text (to locate some articles), you specify a meter. 
									<br>If any of the results contain text conforming to that meter, they are aligned accordingly. 
									<br>Meter, you ask? See <a href="http://examples.yourdictionary.com/examples-of-iambic-pentameter.html">the internet</a> for some examples.
									<br>You specify the meter as a sequence of 0s and 1s, where 1 is the emphasised beat.
									<br>You can anchor the meter to the ^start or end$ of the text, or leave it free to match anywhere.
								</p>
								<form action="/meter" method="GET">
									<table>
										<tr>
											<td style="text-align:right;">
												<input type="text" name="text" value="can">
												<br>meter:&nbsp;<input type="text" name="meter" value="^1010101010">
											</td>
											<td>source:</td>
											<td>
												<input type="radio" name="source" value="any"> any 
												<br><input type="radio" name="source" value="title-only" checked> title-only
											</td>
											<td><input type="submit" value="search and align on matching meter"></td>
										</tr>
									</table>			
								</form>

							<h2>align an article's sentences matching meter</h2>
								<p>
									You identify an article (with a UUID from the url, by hand, sorry) and specify a meter. 
									<br>If any of the sentences within that article body contain text conforming to that meter, they are aligned accordingly. 
									<br>Meter, you ask? See <a href="http://examples.yourdictionary.com/examples-of-iambic-pentameter.html">the internet</a> for some examples.
									<br>You specify the meter as a sequence of 0s and 1s, where 1 is the emphasised beat.
									<br>You can anchor the meter to the ^start or end$ of the text, or leave it free to match anywhere.
								</p>
								<form action="/article" method="GET">
									<table>
										<tr>
											<td style="text-align:right;">
												uuid&nbsp;<input type="text" name="uuid" value="b57fee24-cb3c-11e5-be0b-b7ece4e953a0">
												<br>meter&nbsp;<input type="text" name="meter" value="^0101010101">
											</td>
											<td><input type="submit" value="get article and align on matching sentences"></td>
										</tr>
									</table>			
								</form>

							<h2>find author's recent articles' phrases matching the meter</h2>
								<p>
									You identify an author and specify a meter. 
									<br>If any of the sentences within recent articles by that author contain text conforming to that meter, they are aligned accordingly. 
									<br>Meter, you ask? See <a href="http://examples.yourdictionary.com/examples-of-iambic-pentameter.html">the internet</a> for some examples.
									<br>You specify the meter as a sequence of 0s and 1s, where 1 is the emphasised beat.
									<br>You can anchor the meter to the ^start or end$ of the text, or leave it free to match anywhere.
								</p>
								<form action="/author" method="GET">
									<table>
										<tr>
											<td style="text-align:right;">
												author&nbsp;<input type="text" name="author" value="Lucy Kellaway"> 
												<br>meter&nbsp;<input type="text" name="meter" value="0101010101">
											</td>
											<td>max&nbsp;<input type="text" name="max" value="10">
												<br><input type="submit" value="search for articles and align on matching meter"> (NB: there will be a bit of a delay)</td>
										</tr>
									</table>			
								</form>

							<h2>find author's recent articles' phrases matching the haiku meter, 5-7-5</h2>
								<p>
									You identify an author. 
									<br>If any of the sentences within recent articles by that author contain text conforming to the haiku meter, 5-7-5, they are displayed. 
									<br>Meter, you ask? See <a href="http://examples.yourdictionary.com/examples-of-iambic-pentameter.html">the internet</a> for some examples.
									<br>You specify the meter as a sequence of 0s and 1s, where 1 is the emphasised beat.
									<br>You can anchor the meter to the ^start or end$ of the text, or leave it free to match anywhere.
								</p>
								<form action="/author" method="GET">
									<table>
										<tr>
											<td style="text-align:right;">
												author&nbsp;<input type="text" name="author" value="Lucy Kellaway"> 
												<input type="hidden" name="meter" value="..... ....... .....">
											</td>
											<td>max&nbsp;<input type="text" name="max" value="10">
												<br><input type="submit" value="search for articles matching the haiku meter"> (NB: there will be a bit of a delay)</td>
										</tr>
									</table>			
								</form>

							<h2>explore phrases matching meter</h2>
								<p>
									You specify a phrase and a meter. 
									<br>Details extracted from the phrase and the meter are displayed, mostly for debugging purposes,
									<br>but it is interesting to see how the words are fragmented into phonemes and syllables.
									<br>If any parts of the phrase contain text conforming to that meter, they are aligned accordingly. 
									<br>Meter, you ask? See <a href="http://examples.yourdictionary.com/examples-of-iambic-pentameter.html">the internet</a> for some examples.
									<br>You specify the meter as a sequence of 0s and 1s, where 1 is the emphasised beat.
									<br>You can anchor the meter to the ^start or end$ of the text, or leave it free to match anywhere.
								</p>
								<p>
									Perhaps you want to see why a particular phrase does not get matched by the meter? Most likely first, consider
									<ol>
										<li>Its a bug - in which case, feel free to let me know</li>
										<li>The phonemes are based on American pronounciation, and they do speak funny. So, sorry, but, shrug.</li>
										<li>The phonemes' emphasis points are perhaps too rigid to allow sufficient slack for the word to be spoken in a poetic context. Again, sorry, shrug.</li>
									</ol>	
								</p>
								<form action="/detail" method="GET">
									<table>
										<tr>
											<td style="text-align:right;">
												phrase&nbsp;<input type="text" name="phrase" value="All my nosuchword elephants are really very perceptive">
												<br>meter&nbsp;<input type="text" name="meter" value="10">
											</td>
											<td><input type="submit" value="find meter within the phrase"></td>
										</tr>
									</table>			
								</form>

							<h2>Caveats</h2>
								<p>
									<ul>
										<li>It has very little error handling</li>
										<li>It can not work for an excitingly wide variety of reasons. 
										<li>Perhaps the main reason for flakiness is that this is MyFirstGoProgram.</li>
									</ul>
									... so choose wisely.
								</p>

							<hr>
							<h2>Simply interesting</h2>
							<ul>
								<li><a href="http://www.ft.com/recruitment/workplace-haiku">Workplace Haiku at the FT</a></li>
								<li><a href="http://haiku.nytimes.com/about">Haikus at the New York Times</a></li>
								<li><a href="https://en.wikipedia.org/wiki/Computational_humor">Computational Humour</a></li>
								<li><a href="https://en.wikipedia.org/wiki/The_Ode_Less_Travelled">The Ode Less Travelled</a> by Stephen Fry</li>
								<li><a href="https://en.wikipedia.org/wiki/List_of_English_words_without_rhymes">English words without rhymes</a></li>
								<li><a href="http://ed.ted.com/lessons/why-shakespeare-loved-iambic-pentameter-david-t-freeman-and-gregory-taylor">Why Shakespere loved</a> <a href="https://www.youtube.com/watch?v=v0aAWuUX5jU">iambic pentameter</a></li>
								<li><a href="https://xkcd.com/79/">XKCD does iambic pentameter</a></li>
							</ul>

							<h3>assorted imagery</h3>

							<a href="https://www.flickr.com/photos/60584010@N00/4512300401"><img src="https://farm3.staticflickr.com/2024/4512300401_b0d2b8ca52_o_d.jpg"></a>
							<a href="https://www.flickr.com/photos/artbystevejohnson/4621636807"><img src="https://farm5.staticflickr.com/4033/4621636807_2e1540fef7_o_d.jpg"></a>
							<a href="https://www.flickr.com/photos/dentonpotter/11590533916"><img src="https://c2.staticflickr.com/4/3731/11590533916_d05e1a1d8e_b.jpg"></a>
						</div>
					</div>
				</div>
			</div>
		</body>
	</html>
{{end}}